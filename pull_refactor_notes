STATUS of refactor:

4/8/2025

Today I'll do what is below. Todd has Told me that I could make these helpers private methods of the data manager class but then create a
subclass of data managers that just provide public wrappers to those methods for my testing purposes. I'll consider doing that later.

Okay, pulling a fraction with aggregation works now.

Pulling a fraction with aggregation even works with mapping!

Now I test metrics.

Next, to integrate it back into the more modernized code for testing, I should make a new branch off dev, then merge pull_refactor INTO it.

4/4/2025

Today's task is a no mapping-needed fraction pull. I want one that uses population just because I already cleared that one.

4/3/2025

I can pull counts like "adult.population" when no aggregation is needed.

I've been trying to save the variables used in the pull to test the helpers externally.

I need this so that I can complete the recursive pulls used by fractions or other metrics.

But the next step is to do aggregation of simple counts.

I've made the helper that does mapping for fractions be the same as the one that does aggregation for fractions.

Amazing! I've now made it so it can aggregate counts!!

Next time, I'll continue by working with a proportion pull that needs no aggregate but uses a simple count as denominator,
like adult population as denominator. I'll start with NO mapping needed, then perhaps find a way to make a non-trivial map used.