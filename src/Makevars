CXX_STD = CXX17

# Use modest optimization but keep debugging info
PKG_CXXFLAGS = -std=c++17 -I${R_HOME}/include -O1 -g -fvisibility=hidden -fwrapv

# Focus on linker flags that avoid problematic relocations
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) -lstdc++ -L${R_HOME}/lib -lR -Wl,--no-keep-memory -Wl,--reduce-memory-overheads -Wl,--gc-sections

# Use position independent code
CXXFLAGS = -fPIC -ftls-model=initial-exec
